<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module preprocessing</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>preprocessing</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/tamashirokousuke/mySrc/class3_1/info3dm/info3dm-G1/preprocessing.py">/Users/tamashirokousuke/mySrc/class3_1/info3dm/info3dm-G1/preprocessing.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="neologdn.html">neologdn</a><br>
</td><td width="25%" valign=top><a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="re.html">re</a><br>
</td><td width="25%" valign=top><a href="sudachipy.html">sudachipy</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-classify_text_every_emotions"><strong>classify_text_every_emotions</strong></a>(emotions_data_num, text_data)</dt><dd><tt>分かち書きされた文章を感情ごとに分けてtxtファイルに書き込む。<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;emotions_data_num&nbsp;(dict{str:list[int]}):&nbsp;各感情のスコアが1以上の文章のデータセット内での番号を格納しているdict<br>
&nbsp;&nbsp;&nbsp;&nbsp;text_data&nbsp;(list[str]):&nbsp;分かち書きされた文章(半角スペースで単語を結合したもの)が1文ずつ格納されているlist</tt></dd></dl>
 <dl><dt><a name="-conversion_to_list"><strong>conversion_to_list</strong></a>(path)</dt><dd><tt>txtファイルに書かれているテキストを行ごとにlistへ格納する。<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;(str):&nbsp;txtファイルのパス<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;l_strip&nbsp;(list[str]):&nbsp;テキストが1文ずつ格納されたlist。改行コードは取り除かれている。</tt></dd></dl>
 <dl><dt><a name="-conversion_to_txt"><strong>conversion_to_txt</strong></a>(path, text_data)</dt><dd><tt>listに格納されているテキストをtxtファイルに書き込む。<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;(str):&nbsp;保存するtxtファイルのパス<br>
&nbsp;&nbsp;&nbsp;&nbsp;text_data&nbsp;(list[str]):&nbsp;テキストが1文ずつ格納されたlist</tt></dd></dl>
 <dl><dt><a name="-create_training_corpus"><strong>create_training_corpus</strong></a>(inputpath, outputpath)</dt><dd><tt>分かち書き後の文章が書き込まれたtxtファイルを作成する。<br>
以下URLを参考にした。<br>
https://github.com/WorksApplications/chiVe/blob/master/docs/continue-training.md<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;inputpath&nbsp;(str):&nbsp;1行に1文が書かれたtxtファイルのパス<br>
&nbsp;&nbsp;&nbsp;&nbsp;outputpath&nbsp;(str):&nbsp;分かち書きされた文章を書き込むためのtxtファイルのパス</tt></dd></dl>
 <dl><dt><a name="-normalize_neologdn"><strong>normalize_neologdn</strong></a>(text_data)</dt><dd><tt>neologdn(https://github.com/ikegami-yukino/neologdn)を用いてlistに格納されているテキストの正規化を行う。<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;text_data&nbsp;(list[str]):&nbsp;テキストが1文ずつ格納されたlist<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;normalized_text_data&nbsp;(list[str]):&nbsp;正規化されたテキストを格納したlist</tt></dd></dl>
 <dl><dt><a name="-pull_out_num_every_emotions"><strong>pull_out_num_every_emotions</strong></a>()</dt><dd><tt>データセットより、各感情のスコアが1以上の文章のデータセット内での番号を抜き出す。<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;emotions_data_num&nbsp;(dict{str:list[int]}):&nbsp;各感情のスコアが1以上の文章のデータセット内での番号を格納しているdict</tt></dd></dl>
 <dl><dt><a name="-pull_out_sentence"><strong>pull_out_sentence</strong></a>(nom_rows, mode, dataset, text_data)</dt><dd><tt>datasetからmodeに応じたテキストを抜き出してリストに格納する関数<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;nom_rows&nbsp;(int):&nbsp;抜き出したいデータの数。ここでは`TRAIN_NOM_ROWS`か`TEST_NOM_ROWS`のいずれかを引数に取る。<br>
&nbsp;&nbsp;&nbsp;&nbsp;mode&nbsp;(str):&nbsp;データの種類。ここでは`train`か`test`のいずれかの文字列を引数に取る。<br>
&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(datasets.dataset_dict.DatasetDict):&nbsp;データセット<br>
&nbsp;&nbsp;&nbsp;&nbsp;text_data&nbsp;(list[str]):&nbsp;このlistにデータセットから抜き出したテキストを1文ずつ追加していく。<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;text_data&nbsp;(list[str]):&nbsp;テキストデータを追加し終わったlistを返す。</tt></dd></dl>
 <dl><dt><a name="-remove_stop_words"><strong>remove_stop_words</strong></a>(wakati_list, stop_words)</dt><dd><tt>テキストからストップワードを除去する。<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;wakati_list&nbsp;(list[str]):&nbsp;分かち書きされた文章が格納されているlist<br>
&nbsp;&nbsp;&nbsp;&nbsp;stop_words&nbsp;(list[str]):&nbsp;ストップワードが格納されているlist<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;ans_list&nbsp;(list[str]):&nbsp;ストップワードが除去された文章が格納されたlist</tt></dd></dl>
 <dl><dt><a name="-replace_to_zero"><strong>replace_to_zero</strong></a>(text_data)</dt><dd><tt>正規表現を用いて、テキストに含まれる数字を全て0に置き換える。<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;text_data&nbsp;(list[str]):&nbsp;テキストが1文ずつ格納されたlist<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;zero_normalized_text_data&nbsp;(list[str]):&nbsp;数字を全て0で置き換えたテキストが1文ずつ格納されているlist</tt></dd></dl>
 <dl><dt><a name="-tokenize"><strong>tokenize</strong></a>(sentence: str, mode: str)</dt><dd><tt>モードに応じた辞書でテキストを分かち書きする。<br>
以下URLを参考にした。<br>
https://github.com/WorksApplications/chiVe/blob/master/docs/continue-training.md<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;sentence&nbsp;(str):&nbsp;分かち書きの対象となる文章。<br>
&nbsp;&nbsp;&nbsp;&nbsp;mode&nbsp;(str):&nbsp;辞書の種類。ここでは`A`,&nbsp;`B`,&nbsp;`C`のいずれかを引数に取る。<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;split_tokens&nbsp;(str):&nbsp;分かち書きした文章を半角スペースで結合したテキスト</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>TEST_NOM_ROWS</strong> = 2000<br>
<strong>TRAIN_NOM_ROWS</strong> = 40000<br>
<strong>dataset</strong> = DatasetDict({
    train: Dataset({
        featu... 'avg_readers'],
        num_rows: 2000
    })
})<br>
<strong>emotions</strong> = ['joy', 'sadness', 'anticipation', 'surprise', 'anger', 'fear', 'disgust', 'trust']<br>
<strong>tokenizer</strong> = &lt;sudachipy.tokenizer.Tokenizer object&gt;</td></tr></table>
</body></html>